# โจ ุชุญุฏูุซ ูุธุงู ุงูุทุจุงุนุฉ - ูุญุฑู ุญุฏูุซ ุนุงูู ุงูุฌูุฏุฉ

## ๐ฏ ุงููุฏู
ุชู ุชุญุฏูุซ ูุธุงู ุงูุทุจุงุนุฉ ุจุงููุงูู ูุงุณุชุฎุฏุงู ูุญุฑู `QWebEngineView` ุงูุญุฏูุซ ุจุฏูุงู ูู `QTextDocument` ุงูุชูููุฏูุ ููุง ูุญู ูุดููุฉ ุชุดููู ุงูุทุจุงุนุฉ ููููุฑ ุฌูุฏุฉ ุทุจุงุนุฉ ูุซุงููุฉ.

## โก ุงูุญู ุงูุณุฑูุน

### 1. ุชุซุจูุช ุงููุญุฑู ุงูุฌุฏูุฏ
```bash
pip install PyQtWebEngine==5.15.6
```

### 2. ุชุดุบูู ุงูุชุญุฏูุซ ุงูุชููุงุฆู
```bash
python update_system.py
```
ุฃู
```bash
update_print_engine.bat
```

### 3. ุงุฎุชุจุงุฑ ุงููุธุงู
```bash
python test_print_engines.py
```

## ๐ ููุงุฑูุฉ ุงููุญุฑููู

| ุงูููุฒุฉ | ุงููุญุฑู ุงูุชูููุฏู | ุงููุญุฑู ุงูุฌุฏูุฏ |
|--------|-----------------|----------------|
| ุฏุนู CSS | ูุญุฏูุฏ โ | ูุงูู โ |
| ุฌูุฏุฉ ุงูุทุจุงุนุฉ | ูุชูุณุทุฉ | ุนุงููุฉ ุฌุฏุงู โ |
| ุงูุฌุฏุงูู | ูุดููุฉ ุฃุญูุงูุงู โ | ูุซุงููุฉ โ |
| ุงูุฎุทูุท ุงูุนุฑุจูุฉ | ุฃุณุงุณู | ูุชูุฏู โ |
| ุญูุธ PDF | ุบูุฑ ูุฏุนูู โ | ูุฏุนูู โ |
| ุณุฑุนุฉ ุงูุชุญููู | ุณุฑูุน โ | ูุชูุณุท |

## ๐ง ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุทุฑููุฉ ุงูุฌุฏูุฏุฉ (ููุตู ุจูุง)
```python
from core.printing import web_print_payment_receipt

# ุทุจุงุนุฉ ุฅูุตุงู ุจุฌูุฏุฉ ุนุงููุฉ
web_print_payment_receipt(receipt_data, parent=self)
```

### ุงูุทุฑููุฉ ุงูุชูููุฏูุฉ (ููุชูุงูู)
```python
from core.printing import print_payment_receipt

# ุงุณุชุฎุฏุงู ุงููุญุฑู ุงูุญุฏูุซ (ุงูุชุฑุงุถู)
print_payment_receipt(receipt_data, parent=self, use_web_engine=True)

# ุงูุนูุฏุฉ ูููุญุฑู ุงูุชูููุฏู
print_payment_receipt(receipt_data, parent=self, use_web_engine=False)
```

### ุงูุชุญูู ูู ุชููุฑ ุงููุญุฑู
```python
from core.printing import WEB_ENGINE_AVAILABLE

if WEB_ENGINE_AVAILABLE:
    print("ุงููุญุฑู ุงูุญุฏูุซ ูุชููุฑ! ๐")
else:
    print("ุณูุชู ุงุณุชุฎุฏุงู ุงููุญุฑู ุงูุชูููุฏู")
```

## ๐จ ุชุญุณููุงุช CSS ุงูุฌุฏูุฏุฉ

ุชู ุชุญุณูู ููุงูุจ HTML ูุชุนูู ุจุดูู ูุซุงูู ูุน ุงููุญุฑู ุงูุฌุฏูุฏ:

```css
/* ุฏุนู ูุงูู ููุฃููุงู ูู ุงูุทุจุงุนุฉ */
@page {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
}

/* ุชุญุณููุงุช ุงูุฌุฏุงูู */
.info-table {
    table-layout: fixed;
    border-collapse: collapse;
}

/* ูุตู ุงูุตูุญุงุช */
.receipt {
    break-after: page;
    break-inside: avoid;
}
```

## ๐ ุงููุดุงูู ุงููุญูููุฉ

### ูุจู ุงูุชุญุฏูุซ โ
- ุชุดููู ุงูุฌุฏุงูู
- ููุฏุงู ุงูุญุฏูุฏ ูุงูุฃููุงู
- ุนุฏู ุฏุนู `@page` ู `@media print`
- ุชูุณูู ุถุนูู ูููุตูุต ุงูุนุฑุจูุฉ
- ุนุฏู ุฅููุงููุฉ ุญูุธ PDF

### ุจุนุฏ ุงูุชุญุฏูุซ โ
- ุฌุฏุงูู ูุซุงููุฉ ูููุณูุฉ
- ุงุญุชูุงุธ ูุงูู ุจุงูุฃููุงู ูุงูุญุฏูุฏ
- ุฏุนู ูุงูู ูุฌููุน ููุงุนุฏ CSS
- ุชูุณูู ููุชุงุฒ ูููุตูุต ุงูุนุฑุจูุฉ
- ุฅููุงููุฉ ุญูุธ PDF ุจุฌูุฏุฉ ุนุงููุฉ

## ๐ ุงููููุงุช ุงููุญุฏุซุฉ

```
core/printing/
โโโ web_print_manager.py          # ูุญุฑู ุงูุทุจุงุนุฉ ุงูุฌุฏูุฏ
โโโ print_manager.py              # ูุญุฏุซ ูุฏุนู ููุง ุงููุญุฑููู
โโโ __init__.py                   # ูุญุฏุซ ููุงุณุชูุฑุงุฏ

app/resources/print_templates/
โโโ payment_receipt.html          # ูุญุณู ูููุญุฑู ุงูุฌุฏูุฏ

requirements.txt                  # ุฅุถุงูุฉ PyQtWebEngine

# ูููุงุช ุฌุฏูุฏุฉ
test_print_engines.py            # ุงุฎุชุจุงุฑ ุงููุธุงู
update_system.py                 # ุฃุฏุงุฉ ุงูุชุญุฏูุซ
update_print_engine.bat          # ุชุญุฏูุซ ุณุฑูุน
docs/web_engine_update.md        # ุฏููู ุงูุชุญุฏูุซ
```

## ๐ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ูุนุงููุฉ ูุชูุฏูุฉ
- ุนุฑุถ ุฏููู 100% ููุง ุณูุธูุฑ ูู ุงูุทุจุงุนุฉ
- ุฏุนู ูุงูู ููุฃููุงู ูุงูุชุฏุฑุฌุงุช
- ุชุฎุทูุท ูุซุงูู ููุฌุฏุงูู ูุงููุตูุต

### 2. ุญูุธ PDF ุนุงูู ุงูุฌูุฏุฉ
- ุญูุธ ูุจุงุดุฑ ูู ุงููุนุงููุฉ
- ุงุญุชูุงุธ ูุงูู ุจุงูุชูุณูู
- ูููุงุช PDF ูุงุจูุฉ ููุจุญุซ

### 3. ุทุจุงุนุฉ ุงุญุชุฑุงููุฉ
- ุฌูุฏุฉ ุทุจุงุนุฉ ูุทุงุจูุฉ ูููุชุตูุญุงุช ุงูุญุฏูุซุฉ
- ุฏุนู ูุงูู ููุตู ุงูุตูุญุงุช
- ููุงูุด ุฏูููุฉ ููุถุจูุทุฉ

### 4. ุชูุงูู ูุชูุฏู
- ุนูู ูุน ููุง ุงููุญุฑููู
- ุชุจุฏูู ุชููุงุฆู ุญุณุจ ุงูุชููุฑ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: "ูุดู ูู ุงุณุชูุฑุงุฏ QWebEngineView"
```bash
pip install PyQtWebEngine==5.15.6
```

### ูุดููุฉ: "ุงููุญุฑู ุงูุญุฏูุซ ุจุทูุก"
- ูุฐุง ุทุจูุนู ููุชุญููู ุงูุฃููู
- ุงูุฌูุฏุฉ ุชุณุชุญู ุงูุงูุชุธุงุฑ ุงููุตูุฑ

### ูุดููุฉ: "ุฎุทุฃ ูู ุนุฑุถ ุงููุงูุจ"
- ุชุญูู ูู ุตุญุฉ HTML ูู ุงููุงูุจ
- ุฑุงุฌุน ุฃุฎุทุงุก CSS ูู console

## ๐ ุงูุฏุนู ุงูููู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. ุดุบู `test_print_engines.py` ููุชุดุฎูุต
2. ุฑุงุฌุน ููู `update_log.txt` ููุฃุฎุทุงุก
3. ุชุญูู ูู `logs/app.log` ููุชูุงุตูู

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ุงูุขู ุณุชุญุตู ุนูู:
- **ุทุจุงุนุฉ ูุซุงููุฉ** ููุง ุชุฑุงูุง ูู ุงููุชุตูุญ
- **ุฌูุฏุฉ ุงุญุชุฑุงููุฉ** ููุฅูุตุงูุงุช ูุงูุชูุงุฑูุฑ  
- **ุณูููุฉ ูู ุงูุงุณุชุฎุฏุงู** ูุน ุฏุนู ููุง ุงููุญุฑููู
- **ูุฑููุฉ ูุงููุฉ** ููุชุจุฏูู ุญุณุจ ุงูุญุงุฌุฉ

๐ฏ **ุงููุชูุฌุฉ**: ูุง ูุฒูุฏ ูู ุงูุทุจุงุนุฉ ุงููุดููุฉ! ุฌูุฏุฉ ุทุจุงุนุฉ ุงุญุชุฑุงููุฉ ูุถูููุฉ.
