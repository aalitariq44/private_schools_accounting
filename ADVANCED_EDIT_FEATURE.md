# تحديث نافذة الإعدادات المتقدمة - إضافة ميزة تعديل المدارس

## ما تم إضافته:

### 1. تحديث دالة تعديل المدرسة
تم تحديث دالة `edit_school` في نافذة الإعدادات المتقدمة لتشمل:
- استرجاع بيانات المدرسة كاملة من قاعدة البيانات
- تمرير البيانات إلى نافذة التعديل بشكل صحيح
- معالجة إشارة التحديث عند إكمال التعديل

### 2. إضافة دالة معالجة التحديث
تم إضافة دالة `on_school_updated` لمعالجة:
- إرسال إشارة تحديث المدرسة للنافذة الرئيسية
- إعادة تحميل قائمة المدارس في النافذة المتقدمة
- عرض رسالة نجاح للمستخدم
- تسجيل العملية في نظام السجلات

## كيفية استخدام الميزة:

1. **فتح الإعدادات المتقدمة:**
   - اذهب إلى صفحة الإعدادات
   - انقر على "الإعدادات المتقدمة"
   - أدخل كلمة المرور: `ali4000ali90004444`

2. **تعديل مدرسة:**
   - في قائمة المدارس، انقر على زر "تعديل" بجانب المدرسة المطلوبة
   - ستفتح نافذة تعديل بيانات المدرسة مع البيانات الحالية محملة
   - قم بتعديل البيانات المطلوبة
   - انقر "حفظ" لتأكيد التعديل

3. **التأكيد والنتائج:**
   - ستظهر رسالة تأكيد عند نجاح التعديل
   - ستحدث قائمة المدارس تلقائياً
   - ستنتقل التحديثات للنافذة الرئيسية

## الميزات المتوفرة في التعديل:

✅ **البيانات الأساسية:**
- الاسم بالعربية
- الاسم بالإنجليزية
- اسم المدير
- رقم الهاتف
- العنوان

✅ **أنواع المدرسة:**
- تعليم أساسي
- تعليم ثانوي
- رياض أطفال
- تعليم مهني
- تعليم خاص

✅ **الشعار:**
- رفع شعار جديد للمدرسة
- حذف الشعار الحالي
- معاينة الشعار

## المزايا الجديدة:

🔸 **أمان محسن:** الوصول للتعديل محمي بكلمة مرور
🔸 **واجهة متقدمة:** تصميم أفضل مع تحديث فوري
🔸 **تتبع العمليات:** تسجيل جميع عمليات التعديل
🔸 **تكامل كامل:** التحديثات تنعكس على جميع أجزاء التطبيق

## ملاحظات مهمة:

⚠️ **تطلب كلمة مرور:** للوصول للإعدادات المتقدمة
⚠️ **تأثير شامل:** التعديلات تؤثر على جميع البيانات المرتبطة
⚠️ **نسخ احتياطية:** يُنصح بعمل نسخة احتياطية قبل التعديلات الكبيرة

---

*تم التحديث بتاريخ: 14 أغسطس 2025*
